# SpiFlash_Programmer_on_FPGA_UART
UART SPI FLASH 25-series programmer on FPGA or CPLD

Представленная прошивка, написанная на Verilog превращает практически любую отладочную плату с FPGA (или даже CPLD с достаточным количеством LUT: необходимо не менее 186 макроячеек и никаких специфических периферических модулей) в USB (через USB-UART конвертер) программатор SPI флешек. 
Зачем это нужно? Для удобства. Например: Вы разрабатываете некое устройство на FPGA, у которого данные хранятся на флешке. При отладке приходится часто перезаписывать флешку. Для этого нужно цеплять программатор или доставать флешку из панельки. А так, просто залил прошивку программатора - и готово, можно прошивать не отключая кабеля. По моему очень удобно.
Сама прошивка представляет из себя несколько конечных автомата: UART RX, UART TX, SPI и главный автомат, который синхронизирует их работу. В итоге получается UART-SPI мост, который при получении байта по UART отправляет его в SPI и возвращает обратно в UART считанный одновременно с записью байт из SPI. Всю остальную работу выполняет программа на компьютере.

Скорость работы программатора конечно не соизмерима с каким-нибудь CH341 или ему подобным, но и не совсем низкая для UART программатора - чтение одного мегабайта занимает 2 - 3 минуты в зависимости от выставленной скорости UART. Такая скорость обустовлена тем, что программатор работает побайтно (не побитный bit banging, не и не пакетный обмен). Для сравнения, другой мой программатор на Atmega работает с соизмеримой скоростью, хотя и обменивается пакетами переменной длины.

Проект состоит из четырёх файлов: uart_rx.v, uart_tx.v, spi.v и топ модуль uart_prog.v. В первых трёх файлах можно настроить скорость работы каждого модуля и указать входную частоту. 

Софтовая часть написана на C#, естественно под Windows, имеет вполне удобный и интуитивно понятный графический интерфейс. 

